<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>
            Time Tracking System
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content *ngIf="getState$() | async as state">
    <app-idle
            *ngIf="isInIdle(state.status)"
            (predefinedType)="applyActivityType(state.status, $event)">
    </app-idle>
    <app-perform
            *ngIf="isInPerform(state.status)">
    </app-perform>
</ion-content>

<ion-footer>
    <ion-toolbar *ngIf="getState$() | async as state">
        <ion-button
                color="dark"
                fill="solid"
                expand="full"
                [disabled]="!state.type && isInIdle(state.status)"
                (click)="applyActivityType(state.status)">
            {{ isInIdle(state.status) ? 'start' : 'stop' }}
        </ion-button>
        <ion-progress-bar *ngIf="isInPerform(state.status)" type="indeterminate"></ion-progress-bar>
    </ion-toolbar>
</ion-footer>